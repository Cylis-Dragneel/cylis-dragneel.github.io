---
const roles = ["DevOps Engineer", "Backend Developer", "Linux Enthusiast"];
---

<section
  class="min-h-screen flex items-center justify-center relative overflow-hidden"
  data-hero
>
  <!-- Gradient background -->
  <div
    class="absolute inset-0 hero-bg"
  >
    <div
      class="absolute inset-0 hero-glow-1"
    >
    </div>
    <div
      class="absolute inset-0 hero-glow-2"
    >
    </div>
  </div>

  <div class="relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <p class="hero-accent font-mono text-sm mb-4 tracking-wider">
      Hi, my name is
    </p>

    <h1 class="text-5xl sm:text-6xl lg:text-7xl font-bold hero-title mb-4">
      Taha Ahmad
    </h1>

    <p class="text-2xl sm:text-3xl lg:text-4xl hero-subtitle mb-6">
      aka <span class="hero-accent font-semibold">Cylis</span>
    </p>

    <div class="h-8 mb-8">
      <p class="text-lg sm:text-xl hero-text">
        <span id="typed-text"></span>
        <span class="animate-pulse hero-accent">|</span>
      </p>
    </div>

    <p class="hero-muted max-w-2xl mx-auto mb-10 text-lg leading-relaxed">
      Building reliable infrastructure, automating workflows, and deploying
      solutions. Passionate about Linux, open source, and clean code.
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a
        href="#projects"
        data-section="projects"
        class="px-8 py-3 bg-accent-500 hover:bg-accent-400 text-base-950 font-semibold rounded-lg transition-colors"
      >
        View My Work
      </a>
      <a
        href="#contact"
        data-section="contact"
        class="px-8 py-3 border border-accent-500 hero-accent hover:bg-accent-500/10 font-semibold rounded-lg transition-colors"
      >
        Get In Touch
      </a>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
    <svg
      class="w-6 h-6 hero-scroll-icon"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
  </div>
</section>

<style>
  .hero-bg {
    background: linear-gradient(to bottom right, var(--color-base-950), var(--color-base-900), var(--color-base-950));
  }

  .hero-glow-1 {
    opacity: 0.4;
    background: radial-gradient(ellipse at top right, var(--color-accent-900) 0%, transparent 50%);
  }

  .hero-glow-2 {
    opacity: 0.2;
    background: radial-gradient(ellipse at bottom left, var(--color-accent-800) 0%, transparent 50%);
  }

  .hero-title {
    color: var(--color-base-50);
  }

  .hero-subtitle {
    color: var(--color-base-400);
  }

  .hero-accent {
    color: var(--color-accent-400);
  }

  .hero-text {
    color: var(--color-base-300);
  }

  .hero-muted {
    color: var(--color-base-400);
  }

  .hero-scroll-icon {
    color: var(--color-base-500);
  }
</style>

<script define:vars={{ roles }}>
  function typeWriter() {
    const element = document.getElementById("typed-text");
    if (!element) return;

    let roleIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    let delay = 100;

    function type() {
      const currentRole = roles[roleIndex];

      if (isDeleting) {
        element.textContent = currentRole.substring(0, charIndex - 1);
        charIndex--;
        delay = 50;
      } else {
        element.textContent = currentRole.substring(0, charIndex + 1);
        charIndex++;
        delay = 100;
      }

      if (!isDeleting && charIndex === currentRole.length) {
        delay = 2000;
        isDeleting = true;
      } else if (isDeleting && charIndex === 0) {
        isDeleting = false;
        roleIndex = (roleIndex + 1) % roles.length;
        delay = 500;
      }

      setTimeout(type, delay);
    }

    type();
  }

  // Run on load and after Astro page transitions
  typeWriter();
  document.addEventListener("astro:after-swap", typeWriter);
</script>
