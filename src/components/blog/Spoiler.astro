---
interface Props {
  title?: string;
}

const { title } = Astro.props;
---

<details class="my-6 group spoiler-details">
  <summary
    class="cursor-pointer list-none flex items-center gap-2 p-4 rounded-lg border transition-colors spoiler-summary"
  >
    <svg
      class="w-5 h-5 spoiler-icon transition-transform group-open:rotate-90"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 5l7 7-7 7"></path>
    </svg>
    <span class="font-medium spoiler-title">{title || "Spoiler"}</span>
  </summary>
  <div class="mt-2 p-4 rounded-lg border-l-2 border-accent-500 spoiler-content">
    <slot />
  </div>
</details>

<style>
  .spoiler-summary {
    background-color: color-mix(in srgb, var(--color-base-800) 50%, transparent);
    border-color: var(--color-base-700);
  }

  .spoiler-summary:hover {
    border-color: color-mix(in srgb, var(--color-accent-500) 30%, transparent);
  }

  .spoiler-icon {
    color: var(--color-accent-400);
  }

  .spoiler-title {
    color: var(--color-base-200);
  }

  .spoiler-content {
    background-color: color-mix(in srgb, var(--color-base-800) 30%, transparent);
  }
</style>
