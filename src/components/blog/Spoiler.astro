---
interface Props {
  title?: string;
}

const { title } = Astro.props;
---

<details class="my-6 group spoiler-details">
  <summary
    class="cursor-pointer list-none flex items-center gap-2 p-4 bg-base-800/50 rounded-lg border border-base-700 hover:border-accent-500/30 transition-colors spoiler-summary"
  >
    <svg
      class="w-5 h-5 text-accent-400 transition-transform group-open:rotate-90"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M9 5l7 7-7 7"></path>
    </svg>
    <span class="font-medium text-base-200 spoiler-title">{title || "Spoiler"}</span>
  </summary>
  <div class="mt-2 p-4 bg-base-800/30 rounded-lg border-l-2 border-accent-500 spoiler-content">
    <slot />
  </div>
</details>

<style>
  [data-theme="light"] .spoiler-summary {
    background-color: var(--color-base-100);
    border-color: var(--color-base-200);
  }

  [data-theme="light"] .spoiler-title {
    color: var(--color-base-700);
  }

  [data-theme="light"] .spoiler-content {
    background-color: color-mix(in srgb, var(--color-base-100) 50%, transparent);
  }
</style>
